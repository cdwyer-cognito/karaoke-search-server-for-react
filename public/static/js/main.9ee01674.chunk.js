(window["webpackJsonpkaraoke-search-client"]=window["webpackJsonpkaraoke-search-client"]||[]).push([[0],{124:function(e,t,n){e.exports=n(156)},13:function(e,t,n){"use strict";n.d(t,"j",(function(){return r})),n.d(t,"l",(function(){return a})),n.d(t,"h",(function(){return c})),n.d(t,"c",(function(){return i})),n.d(t,"k",(function(){return o})),n.d(t,"m",(function(){return u})),n.d(t,"d",(function(){return s})),n.d(t,"n",(function(){return l})),n.d(t,"i",(function(){return f})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return b})),n.d(t,"e",(function(){return h}));var r="START_POLL_FOR_REQUESTS",a="STOP_POLL_FOR_REQUESTS",c="SET_POLL_FOR_REQUEST_STATUS",i="GET_REQUESTS",o="START_POLL_FOR_TICKER",u="STOP_POLL_FOR_TICKER",s="GET_SUBMITTED_REQUESTS",l="SUBMIT_REQUEST",f="SET_SENDING_REQUEST",d="SEARCH_FOR_SONGS",p="SET_GETTING_SEARCH_RESULTS",m="COMPLETE_REQUEST",b="CLEAR_REQUESTS",h="RELOAD_DATABASE"},134:function(e,t,n){},156:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(17),i=n.n(c),o=n(18),u=n(39),s=n(49),l=n(109),f=n(211),d=n(210),p=function(e){var t=e.setWindowHeightWidth,n=e.setBaseUrl,r=e.startPollForTicker,c=e.stopPollForTicker,i=function(){var e=window,n=e.innerHeight,r=e.innerWidth;t(n,r)};return a.a.useEffect((function(){window.addEventListener("resize",i);var e=window.location.href.match(/^http:\/\/(.*):/g);return n(e+8e3+"/api"),r(),function(){window.removeEventListener("resize",i),c()}}),[]),null},m=n(6),b=Object(o.b)(null,(function(e){return{setWindowHeightWidth:function(t,n){e(Object(m.C)(t,n)),e(Object(m.p)(t>=n))},setBaseUrl:function(t){return e(Object(m.l)(t))},startPollForTicker:function(){return e(Object(m.F)())},stopPollForTicker:function(){return e(Object(m.H)())}}}))(p),h=n(100),g=n(99),O=n.n(g),j=n(8),E=n(40),v=n.n(E),y=Object(h.a)((function(e){return{home:{textAlign:"center",color:"white",textDecoration:"none",width:"100%",height:"100%",left:0,top:0},centerContent:{width:"100%",display:"flex",justifyContent:"center",flexWrap:"wrap",marginBottom:e.spacing(4)},img:{maxWidth:"100%",height:"auto",width:"auto"}}})),x=Object(s.f)((function(e){var t=e.history,n=e.setSelectedButton,r=y();return a.a.createElement("div",{role:"presentation",className:r.home,onClick:function(){n(j.m),t.push("/search")}},a.a.createElement("div",{className:r.centerContent},a.a.createElement("img",{src:v.a,alt:"logo",className:r.img})),a.a.createElement("h1",null,"Digital Song Book"),a.a.createElement("h3",null,"Tap to start"),a.a.createElement("div",null,a.a.createElement("img",{className:r.img,src:O.a,alt:"karaoke book"})))})),w=Object(o.b)(null,(function(e){return{setSelectedButton:function(t){return e(Object(m.u)(t))}}}))(x),S=n(200),k=n(187),C=n(188),T=n(189),R=n(190),D=n(185),P=Object(h.a)((function(e){return{button:{borderRadius:0,borderStyle:"hidden hidden solid hidden",borderWidth:"thick",borderColor:"transparent",paddingBottom:0},selectedButton:{borderBottomColor:"#40A4C8"}}})),N=Object(s.f)((function(e){var t=e.selected,n=e.label,r=e.history,c=e.path,i=P(),o=[i.button];return t&&o.push(i.selectedButton),a.a.createElement(D.a,{size:"large",className:o.join(" "),onClick:function(){return r.push(c)}},n)})),_=Object(o.b)((function(e,t){var n=e.toolbar.selectedButton,r=t.buttonType;return{label:j.i[r],selected:n===r}}))(N),A=Object(h.a)((function(e){return{appBar:{height:j.q,display:"flex",flexDirection:"row",alignItems:"center"},toolbarContent:{height:"100%",width:"100%",display:"flex",justifyContent:"center",flexGrow:1},iconButton:{height:48,width:48}}})),B=function(e){var t=e.toolbarOptions,n=e.djModeActive,r=e.handleLogonClick,c=A();return a.a.createElement(k.a,{className:c.appBar,position:"fixed"},a.a.createElement("div",{className:c.iconButton}),a.a.createElement("div",{className:c.toolbarContent},t.map((function(e){return a.a.createElement(_,Object.assign({key:e.buttonType},e))}))),a.a.createElement(C.a,{className:c.iconButton,onClick:r},n?a.a.createElement(T.a,null):a.a.createElement(R.a,null)))},L=Object(o.b)((function(e){var t=e.admin,n=e.toolbar,r=t.djModeActive;return{toolbarOptions:n.toolbarOptions,djModeActive:r}}),(function(e){return{handleLogonClick:function(){return e(Object(m.D)(!0))}}}))(B),q=n(33),W=n(215),I=n(191),U=n(192),M=n(193),F=n(212),H=n(196),G=Object(h.a)((function(e){return{textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:200}}})),z=function(e){var t=e.logonDialogOpen,n=e.handleClose,r=e.djModeActive,c=e.handleSubmit,i=G(),o=a.a.useState(""),u=Object(q.a)(o,2),s=u[0],l=u[1];a.a.useEffect((function(){l("")}),[]);var f=function(e){var t=e.key,n=e.target.value;"Enter"===t&&c(r,s),l(n)};return a.a.createElement(W.a,{open:t,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},a.a.createElement(I.a,{id:"alert-dialog-title"},"".concat(r?"Log out from":" Login to"," DJ mode")),a.a.createElement(U.a,null,r?null:a.a.createElement(M.a,null,a.a.createElement(F.a,{value:s,onChange:f,id:"standard-password-input",label:"Password",className:i.textField,type:"password",autoComplete:"current-password",margin:"normal",autoFocus:!0,onKeyPress:f}))),a.a.createElement(H.a,null,a.a.createElement(D.a,{onClick:function(){return c(r,s)},disabled:!r&&0===s.length},r?"Log out":"Login"),a.a.createElement(D.a,{onClick:n},"Close")))},Q=function(e){var t=function(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n},n=function(e,t){return e>>>t|e<<32-t},r=function(e,t){return e>>>t},a=function(e,t,n){return e&t^~e&n},c=function(e,t,n){return e&t^e&n^t&n},i=function(e){return n(e,2)^n(e,13)^n(e,22)},o=function(e){return n(e,6)^n(e,11)^n(e,25)},u=function(e){return n(e,7)^n(e,18)^r(e,3)};return function(e){for(var t="0123456789abcdef",n="",r=0;r<4*e.length;r++)n+=t.charAt(e[r>>2]>>8*(3-r%4)+4&15)+t.charAt(e[r>>2]>>8*(3-r%4)&15);return n}(function(e,s){var l,f,d,p,m,b,h,g,O,j,E,v=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],y=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],x=new Array(64);e[s>>5]|=128<<24-s%32,e[15+(s+64>>9<<4)]=s;for(var w=0;w<e.length;w+=16){l=y[0],f=y[1],d=y[2],p=y[3],m=y[4],b=y[5],h=y[6],g=y[7];for(var S=0;S<64;S++)x[S]=S<16?e[S+w]:t(t(t((E=x[S-2],n(E,17)^n(E,19)^r(E,10)),x[S-7]),u(x[S-15])),x[S-16]),O=t(t(t(t(g,o(m)),a(m,b,h)),v[S]),x[S]),j=t(i(l),c(l,f,d)),g=h,h=b,b=m,m=t(p,O),p=d,d=f,f=l,l=t(O,j);y[0]=t(l,y[0]),y[1]=t(f,y[1]),y[2]=t(d,y[2]),y[3]=t(p,y[3]),y[4]=t(m,y[4]),y[5]=t(b,y[5]),y[6]=t(h,y[6]),y[7]=t(g,y[7])}return y}(function(e){for(var t=[],n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<24-n%32;return t}(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t}(e)),8*e.length))},K=Object(o.b)((function(e){var t=e.admin;return{logonDialogOpen:t.logonDialogOpen,djModeActive:t.djModeActive}}),(function(e){return{handleClose:function(){return e(Object(m.D)(!1))},handleSubmit:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e(t?Object(m.h)():Object(m.i)(Q(n)))}}}))(z),X=n(197),J=n(113),Y=n(198),V=Object(h.a)((function(e){return{dialogContainer:{height:"auto",overflowY:"unset"},heading:{display:"flex",flexDirection:"row",justifyContent:"space-between"},img:{height:"30px"}}})),Z=Object(s.f)((function(e){var t=e.selectedSong,n=e.handleClose,r=e.sendingRequest,c=e.completeRequest,i=e.submitRequest,o=e.history,u=V(),s=t||{},l=s.Title,f=s.Artist,d=s.DiscRef,p=s.Key,m=s.Length,b=s.CompletedDateTime,h=s.DateTime,g=s.Singer,O=a.a.useState(""),j=Object(q.a)(O,2),E=j[0],y=j[1];a.a.useEffect((function(){y("")}),[t]);var x="Request Slip",w=a.a.createElement(D.a,{onClick:function(){return i(E,t,o)},disabled:0===E.length||r},r?a.a.createElement(X.a,{size:24}):"Submit");r?x="Submitting Request!":h&&!b?(w=a.a.createElement(D.a,{onClick:function(){return c(t)}},"Completed"),x="Requested: ".concat(h.toLocaleString().match(/[0-9]{1,2}:[0-9]{1,2}:[0-9]{1,2}/g))):b&&(w=a.a.createElement(D.a,null,"Report Issue"),x="Completed: ".concat(b.toLocaleString().match(/[0-9]{1,2}:[0-9]{1,2}:[0-9]{1,2}/g)));var S=function(e){var n=e.key,r=e.target.value;"Enter"===n&&i(E,t,o),r.length<=80&&y(r)};return a.a.createElement(W.a,{open:Boolean(t),onClose:r?null:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0,maxWidth:"sm"},a.a.createElement(I.a,{id:"alert-dialog-title"},a.a.createElement("div",{className:u.heading},a.a.createElement(J.a,{variant:"inherit"},x),a.a.createElement("img",{className:u.img,src:v.a,alt:"logo"}))),a.a.createElement(U.a,{classes:{root:u.dialogContainer}},a.a.createElement(Y.a,{container:!0,spacing:3},a.a.createElement(Y.a,{item:!0,xs:12},g?a.a.createElement(F.a,{id:"name",label:"Singer",value:g,variant:"outlined",fullWidth:!0,disabled:!0}):a.a.createElement(F.a,{id:"name",label:"Enter Your Name",value:E,onChange:S,variant:"outlined",fullWidth:!0,autoFocus:!0,onKeyPress:S})),a.a.createElement(Y.a,{item:!0,xs:12},a.a.createElement(F.a,{id:"title",label:"Title",value:l||"",variant:"outlined",fullWidth:!0,disabled:!0})),a.a.createElement(Y.a,{item:!0,xs:12},a.a.createElement(F.a,{id:"artist",label:"Artist",value:f||"",variant:"outlined",fullWidth:!0,disabled:!0})),a.a.createElement(Y.a,{item:!0,xs:4},a.a.createElement(F.a,{id:"ref",label:"Ref",value:d||"",variant:"outlined",fullWidth:!0,disabled:!0})),a.a.createElement(Y.a,{item:!0,xs:4},a.a.createElement(F.a,{id:"length",label:"Length",value:m||"",variant:"outlined",fullWidth:!0,disabled:!0})),a.a.createElement(Y.a,{item:!0,xs:4},a.a.createElement(F.a,{id:"key",label:"Key",value:p||"",variant:"outlined",fullWidth:!0,disabled:!0})))),a.a.createElement(H.a,null,w,a.a.createElement(D.a,{onClick:n,disabled:r},"Close")))})),$=Object(o.b)((function(e){var t=e.results,n=e.api;return{selectedSong:t.selectedSong,sendingRequest:n.sendingRequest}}),(function(e){return{handleClose:function(){return e(Object(m.d)())},submitRequest:function(t,n,r){return e(Object(m.I)(t,n,r))},completeRequest:function(t){return e(Object(m.e)(t))}}}))(Z),ee=n(199),te=n(216),ne=function(e){var t=e.notificationOpen,n=e.notificationMessage,r=e.closeNotification;return a.a.createElement(te.a,{open:t,anchorOrigin:{vertical:"bottom",horizontal:"right"},onClose:r,autoHideDuration:6e3,TransitionComponent:function(e){return a.a.createElement(ee.a,Object.assign({},e,{direction:"left"}))},ContentProps:{"aria-describedby":"message-id"},message:a.a.createElement("span",{id:"message-id"},n)})},re=Object(o.b)((function(e){var t=e.admin;return{notificationOpen:t.notificationOpen,notificationMessage:t.notificationMessage}}),(function(e){return{closeNotification:function(){return e(Object(m.r)(!1))}}}))(ne),ae=(n(134),function(e){var t=e.tickerString;if(e.djModeActive||0===t.length)return null;var n={animationDuration:1.5*Math.ceil(t.length/10)+"s"};return a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement("p",{style:{position:"fixed",left:0,bottom:0,height:"25px",margin:"0 auto",padding:"0 8px",backgroundColor:"#40a4c8",color:"white",zIndex:50,display:"inline-block"}},a.a.createElement("span",null,"Requested:"))),a.a.createElement("div",{class:"Ticker"},a.a.createElement("p",{class:"Marquee",style:n},a.a.createElement("span",null,t))),a.a.createElement("div",{id:"padding-right",style:{position:"fixed",right:0,bottom:0,minHeight:"25px",minWidth:"8px",backgroundColor:"#40a4c8",zIndex:50,display:"inline-block"}}))}),ce=Object(o.b)((function(e){var t=e.admin,n=e.results;return{djModeActive:t.djModeActive,tickerString:n.tickerString}}))(ae),ie=Object(h.a)((function(e){return{background:{minWidth:"100%",minHeight:"100%",backgroundColor:e.palette.background.paper,color:e.palette.text.primary},container:{marginTop:j.q,background:"inherit",minHeight:"calc(100vh - ".concat(j.q,"px)")}}})),oe=function(e){var t=e.children,n=ie();return a.a.createElement("div",{className:n.background},a.a.createElement(L,null),a.a.createElement(S.a,{maxWidth:"xl",id:"container",className:n.container},t),a.a.createElement($,null),a.a.createElement(K,null),a.a.createElement(re,null),a.a.createElement(ce,null))},ue=n(201),se=n(54),le=n(217),fe=n(202),de=n(103),pe=n.n(de),me=n(104),be=n.n(me),he=Object(h.a)((function(e){return{search:{minHeight:"calc(100vh - ".concat(j.q,"px - ").concat(e.spacing(3),"px)")},img:{maxWidth:"100%"},centerContent:{width:"100%",display:"flex",justifyContent:"center",flexWrap:"wrap",marginBottom:e.spacing(4)},textField:{maxWidth:"75vw",marginLeft:e.spacing(1),marginRight:e.spacing(1)},label:{display:"flex",alignItems:"center",margin:e.spacing(2)},buttonGroup:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},button:{height:"100%",minHeight:56,marginLeft:e.spacing(1),marginRight:e.spacing(1)}}})),ge=Object(s.f)((function(e){var t=e.setSelectedButton,n=e.history,r=e.swipeLeftPath,c=e.swipeRightPath,i=e.search,o=he(),u=a.a.useState(""),s=Object(q.a)(u,2),l=s[0],f=s[1],d=a.a.useState(j.d),p=Object(q.a)(d,2),m=p[0],b=p[1],h=Object(se.a)({onSwipedLeft:function(){return n.push(r)},onSwipedRight:function(){return n.push(c)},preventDefaultTouchmoveEvent:!0,trackMouse:!0});a.a.useEffect((function(){return t(j.m),function(){t(null)}}),[]);var g=function(e){var t=e.key,r=e.target.value;"Enter"===t&&(i(l,m),n.push(j.l)),f(r)};return a.a.createElement("div",Object.assign({id:"search",className:o.search},h),a.a.createElement("div",{className:o.centerContent},a.a.createElement("img",{src:v.a,alt:"logo",className:o.img})),a.a.createElement("div",{id:"search=box",className:o.centerContent},a.a.createElement(F.a,{id:"outlined-multiline-flexible",InputProps:{startAdornment:a.a.createElement(ue.a,{position:"start"},a.a.createElement(pe.a,null)),endAdornment:a.a.createElement(ue.a,{position:"end"},a.a.createElement(C.a,{disabled:!l,onClick:function(){return f("")}},a.a.createElement(be.a,null)))},label:"Search",value:l,onChange:g,className:o.textField,variant:"outlined",fullWidth:!0,autoFocus:!0,onKeyPress:g})),a.a.createElement("div",{className:o.centerContent},a.a.createElement(le.a,{size:"large",value:m,exclusive:!0,onChange:function(e,t){return function(e){null!==e&&b(e)}(t)},className:o.buttonGroup},a.a.createElement(fe.a,{key:"title",value:j.p},a.a.createElement(J.a,null,"Title")),a.a.createElement(fe.a,{key:"artist",value:j.c},a.a.createElement(J.a,null,"Artist")),a.a.createElement(fe.a,{key:"both",value:j.d},a.a.createElement(J.a,null,"Both"))),a.a.createElement(D.a,{className:o.button,variant:"outlined",disabled:l.length<3,onClick:function(){i(l,m),n.push(j.l)}},"Submit")))})),Oe=Object(o.b)((function(e){var t=e.admin.djModeActive;return{swipeLeftPath:j.f,swipeRightPath:t?j.k:j.h}}),(function(e){return{setSelectedButton:function(t){return e(Object(m.u)(t))},search:function(t,n){return e(Object(m.k)(t,n,!1))}}}))(ge),je=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Ee=Object(h.a)((function(e){return{browseBy:{minHeight:"calc(100vh - ".concat(j.q,"px - ").concat(e.spacing(3),"px)"),width:"100%",display:"flex",justifyContent:"center",alignItems:"flex-start"},img:{maxWidth:"100%",maxHeight:"100%"},grid:{display:"flex",flexDirection:"column",justifyContent:"center",maxWidth:1200},gridRow:{display:"flex",flexDirection:"row",justifyContent:"center",flexWrap:"wrap"},gridSquare:{padding:e.spacing(1),width:"15vw",height:"15vw",minWidth:70,minHeight:70,maxWidth:170,maxHeight:170},gridRectangle:{padding:e.spacing(1),width:"30vw",height:"15vw",minWidth:130,minHeight:70,maxWidth:340,maxHeight:170},button:{width:"100%",height:"100%",textTransform:"none"}}})),ve=Object(s.f)((function(e){var t=e.variant,n=e.setSelectedButton,r=e.width,c=e.history,i=e.swipeLeftPath,o=e.swipeRightPath,u=e.searchBy,s=e.search,l=Ee();a.a.useEffect((function(){return n(t),function(){n(null)}}),[t]);var f=function(e){s(e,u),c.push("/results")},d=Object(se.a)({onSwipedLeft:function(){return c.push(i)},onSwipedRight:function(){return c.push(o)},preventDefaultTouchmoveEvent:!0,trackMouse:!0}),p={fontSize:"".concat(r<450?1:r>=450&&r<550?1.5:r>=550&&r<650?2:r>=650&&r<750?2.5:r>=750&&r<850?3:r>=850&&r<950?3.5:r>=950&&r<1050?4:r>=1050&&r<1150?4.5:5,"em")};return a.a.createElement("div",Object.assign({className:l.browseBy},d),a.a.createElement("div",{className:l.grid},a.a.createElement("div",{className:l.gridRow},je.map((function(e){return a.a.createElement("div",{key:e,className:l.gridSquare},a.a.createElement(D.a,{className:l.button,style:p,variant:"outlined",onClick:function(){return f(e)}},e))})),a.a.createElement("div",{className:l.gridRectangle},a.a.createElement(D.a,{className:l.button,style:p,variant:"outlined",onClick:function(){return f("0-9")}},"0-9")),a.a.createElement("div",{className:l.gridRectangle},a.a.createElement(D.a,{className:l.button,style:p,disabled:!0},a.a.createElement("img",{src:v.a,alt:"logo",className:l.img}))))))})),ye=Object(o.b)((function(e,t){var n=e.displayProperties,r=e.admin,a=n.width,c=r.djModeActive,i=t.variant,o=j.h,u=j.n;return i===j.g&&(o=c?j.b:j.n,u=j.f),{width:a,swipeLeftPath:o,swipeRightPath:u}}),(function(e){return{setSelectedButton:function(t){return e(Object(m.u)(t))},search:function(t,n){return e(Object(m.k)(t,n,!0))}}}))(ve),xe=n(195),we=n(205),Se=n(206),ke=n(207),Ce=n(208),Te=n(97),Re=Object(h.a)((function(e){return{results:{minHeight:"calc(100vh - ".concat(j.q,"px)")},headerContainer:{position:"sticky",top:j.q,width:"100%",paddingTop:e.spacing(3),paddingBottom:e.spacing(3),backgroundColor:e.palette.background.paper,zIndex:100},titleContainer:{display:"flex",justifyContent:"space-between",alignItems:"baseline"},hint:{display:"flex",alignItems:"center"},filterContainer:{width:"100%",display:"flex",justifyContent:"center",flexWrap:"wrap",marginBottom:e.spacing(1)},textField:{maxWidth:"50vw",marginRight:e.spacing(3)},label:{display:"flex",alignItems:"center"},resultsList:{display:"flex",flexDirection:"column",width:"100%",height:"100%",minHeight:"100%",marginBottom:"20px"},holding:{position:"fixed",left:0,top:"40vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},list:{marginBottom:"20px"},spinner:{marginBottom:e.spacing(3)}}})),De=Object(s.f)((function(e){var t=e.setSelectedButton,n=e.searchResults,r=e.gettingSearchResults,c=e.clearSearchResults,i=e.history,o=Re(),u=a.a.useState(""),s=Object(q.a)(u,2),l=s[0],f=s[1],d=a.a.useState(0),p=Object(q.a)(d,2),m=p[0],b=p[1],h=a.a.useState(n),g=Object(q.a)(h,2),O=g[0],j=g[1];a.a.useEffect((function(){j(n)}),[n]),a.a.useEffect((function(){return t(null),function(){c()}}),[]),a.a.useEffect((function(){0===l.length?j(n):l.length>=1&&function(){var e=l.toLowerCase();j(n.filter((function(t){var n=t.Artist,r=t.Title,a=n.toLowerCase().includes(e),c=r.toLowerCase().includes(e);return 0===m&&c||1===m&&a||2===m&&(a||c)?t:null})))}()}),[l,m]),a.a.useEffect((function(){var e;return r||0!==n.length||(e=setTimeout((function(){i.push("/")}),[7e3])),n.length>0&&clearTimeout(e),function(){clearTimeout(e)}}),[r,n]);var E,v=r||0===n.length;return E=r?a.a.createElement("div",{className:o.holding},a.a.createElement(X.a,{className:o.spinner,size:100}),a.a.createElement(J.a,null,"Getting search results...")):0===n.length?a.a.createElement("div",{className:o.holding},a.a.createElement(we.a,{fontSize:"large"}),a.a.createElement(J.a,null,"There are no results matching your search"),a.a.createElement(J.a,null,"Please try again")):a.a.createElement(xe.a,{className:o.list},O.map((function(e){return a.a.createElement(Te.a,{key:e.UID,songObj:e})}))),a.a.createElement("div",{className:o.results},a.a.createElement("div",{id:"header-container",className:o.headerContainer},a.a.createElement("div",{id:"title-container",className:o.titleContainer},a.a.createElement(J.a,{variant:"h4",gutterBottom:!0},"Search Results"),a.a.createElement("div",{className:o.hint},a.a.createElement(Se.a,null),a.a.createElement(J.a,null,"Select a song to submit a request"))),a.a.createElement("div",{id:"search=box",className:o.filterContainer},a.a.createElement(F.a,{id:"filter-text-field",label:"Filter results",value:l,onChange:function(e){return f(e.target.value)},className:o.textField,variant:"outlined",fullWidth:!0,disabled:v,InputProps:{startAdornment:a.a.createElement(ue.a,{position:"start"},a.a.createElement(ke.a,null)),endAdornment:a.a.createElement(ue.a,{position:"end"},a.a.createElement(C.a,{disabled:!l,onClick:function(){return f("")}},a.a.createElement(Ce.a,null)))}}),a.a.createElement(le.a,{size:"large",value:m,exclusive:!0,onChange:function(e,t){return function(e){null!==e&&b(e)}(t)}},a.a.createElement(fe.a,{key:"title",value:0,disabled:v},a.a.createElement(J.a,null,"Title")),a.a.createElement(fe.a,{key:"artist",value:1,disabled:v},a.a.createElement(J.a,null,"Artist")),a.a.createElement(fe.a,{key:"both",value:2,disabled:v},a.a.createElement(J.a,null,"Both"))))),a.a.createElement("div",{id:"results-list",className:o.resultsList},E))})),Pe=Object(o.b)((function(e){var t=e.results,n=e.api;return{searchResults:t.searchResults,gettingSearchResults:n.gettingSearchResults}}),(function(e){return{setSelectedButton:function(t){return e(Object(m.u)(t))},clearSearchResults:function(){return e(Object(m.c)())}}}))(De),Ne=n(213),_e=n(209),Ae=Object(h.a)((function(e){return{success:{minHeight:"calc(100vh - ".concat(j.q,"px - ").concat(e.spacing(3),"px)")},img:{maxWidth:"100%"},centerContent:{width:"100%",display:"flex",justifyContent:"center",flexWrap:"wrap",marginBottom:e.spacing(4)},message:{width:"60vw",minWidth:"460px"},box:{marginRight:e.spacing(1)},boldBox:{marginRight:e.spacing(1),color:e.palette.highlightColor},countdown:{marginTop:e.spacing(2)}}})),Be=Object(s.f)((function(e){var t=e.history,n=e.successfulRequestDetails,r=Ae(),c=n||{},i=c.Singer,o=c.Title,u=c.Artist,s=Object(se.a)({onSwipedLeft:function(){return t.push("/")},onSwipedRight:function(){return t.push("/")},preventDefaultTouchmoveEvent:!0,trackMouse:!0}),l=a.a.useState(0),f=Object(q.a)(l,2),d=f[0],p=f[1];return a.a.useEffect((function(){var e=setInterval((function(){p((function(e){return 100===e&&t.push("/"),Math.min(e+1,100)}))}),100);return function(){clearInterval(e)}}),[]),a.a.createElement("div",Object.assign({id:"success",className:r.success},s),a.a.createElement("div",{className:r.centerContent},a.a.createElement("img",{src:v.a,alt:"logo",className:r.img})),a.a.createElement("div",{className:r.centerContent},a.a.createElement("div",{className:r.message},a.a.createElement(J.a,{paragraph:!0,component:"div"},a.a.createElement(Ne.a,{className:r.box,display:"inline"},"Thank you"),a.a.createElement(Ne.a,{className:r.boldBox,display:"inline",fontWeight:"fontWeightBold"},i),a.a.createElement(Ne.a,{className:r.box,display:"inline"},"for your request of"),a.a.createElement(Ne.a,{className:r.boldBox,display:"inline",fontWeight:"fontWeightBold"},o),a.a.createElement(Ne.a,{className:r.box,display:"inline"},"in the style of"),a.a.createElement(Ne.a,{className:r.boldBox,display:"inline",fontWeight:"fontWeightBold"},u,"."),a.a.createElement(Ne.a,{className:r.box,display:"inline"},"It has been submitted to the DJ.")),a.a.createElement(J.a,{paragraph:!0},"Keep listening and you will be called when it's your turn to sing."),a.a.createElement(J.a,{paragraph:!0},"While you're waiting why not request another?"),a.a.createElement("div",null,a.a.createElement(J.a,{variant:"caption",align:"center",gutterBottom:!0},"Please note the DJ will not be able to tell you how long untill you are called. Please be patient."),a.a.createElement(_e.a,{className:r.countdown,variant:"determinate",value:d,color:"secondary"})))))})),Le=Object(o.b)((function(e){return{successfulRequestDetails:e.results.successfulRequestDetails}}))(Be),qe=a.a.lazy((function(){return n.e(4).then(n.bind(null,219))})),We=a.a.lazy((function(){return n.e(3).then(n.bind(null,218))})),Ie=function(e){var t=e.setToolbarOptions,n=e.djModeActive,c=Object(l.a)({palette:{type:"dark",highlightColor:"#00FF00"},overrides:{MuiAppBar:{colorPrimary:{backgroundColor:"#292929"}},MuiCircularProgress:{colorPrimary:{color:"#00FF00"}}}}),i=a.a.createElement(s.c,null,a.a.createElement(s.a,{path:j.n,exact:!0,component:Oe}),a.a.createElement(s.a,{path:j.f,exact:!0,render:function(){return a.a.createElement(ye,{variant:j.e,searchBy:j.c})}}),a.a.createElement(s.a,{path:j.h,exact:!0,render:function(){return a.a.createElement(ye,{variant:j.g,searchBy:j.p})}}),a.a.createElement(s.a,{path:j.l,exact:!0,component:Pe}),a.a.createElement(s.a,{path:j.o,exact:!0,component:Le}),a.a.createElement(s.a,{path:"/",component:w})),o=[{buttonType:j.m,path:j.n},{buttonType:j.e,path:j.f},{buttonType:j.g,path:j.h}];return n&&(i=a.a.createElement(s.c,null,a.a.createElement(s.a,{path:j.n,exact:!0,component:Oe}),a.a.createElement(s.a,{path:j.f,exact:!0,render:function(){return a.a.createElement(ye,{variant:j.e,searchBy:j.c})}}),a.a.createElement(s.a,{path:j.h,exact:!0,render:function(){return a.a.createElement(ye,{variant:j.g,searchBy:j.p})}}),a.a.createElement(s.a,{path:j.l,exact:!0,component:Pe}),a.a.createElement(s.a,{path:j.k,exact:!0,component:qe}),a.a.createElement(s.a,{path:j.o,exact:!0,component:Le}),a.a.createElement(s.a,{path:j.b,exact:!0,component:We}),a.a.createElement(s.a,{path:"/",component:w})),o.unshift({buttonType:j.j,path:j.k}),o.push({buttonType:j.a,path:j.b})),t(o),a.a.createElement(d.a,{theme:c},a.a.createElement(f.a,null),a.a.createElement(b,null),a.a.createElement(u.a,null,a.a.createElement(r.Suspense,{fallback:a.a.createElement("div",null,"Loading...")},a.a.createElement(oe,null,i))))},Ue=Object(o.b)((function(e){return{djModeActive:e.admin.djModeActive}}),(function(e){return{setToolbarOptions:function(t){return e(Object(m.B)(t))}}}))(Ie),Me=n(41),Fe=n(111),He=n(107),Ge=n(22),ze=n(23);function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(n,!0).forEach((function(t){Object(Ge.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xe={logonDialogOpen:!1,djModeActive:!1,baseUrl:null,notificationOpen:!1,notificationMessage:null,token:null},Je=function(e,t){return Ke({},e,{logonDialogOpen:t.bool})},Ye=function(e,t){return Ke({},e,{djModeActive:t.bool})},Ve=function(e,t){return Ke({},e,{baseUrl:t.url})},Ze=function(e,t){return Ke({},e,{notificationOpen:t.bool})},$e=function(e,t){return Ke({},e,{notificationMessage:t.string})},et=function(e,t){return Ke({},e,{token:t.token})},tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ze.h:return Je(e,t);case ze.d:return Ye(e,t);case ze.c:return Ve(e,t);case ze.f:return Ze(e,t);case ze.e:return $e(e,t);case ze.g:return et(e,t);default:return e}},nt=n(13);function rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rt(n,!0).forEach((function(t){Object(Ge.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ct={gettingSearchResults:!1,sendingRequest:!1,pollStatus:""},it=function(e,t){return at({},e,{sendingRequest:t.bool})},ot=function(e,t){return at({},e,{gettingSearchResults:t.bool})},ut=function(e,t){return at({},e,{pollStatus:t.string})},st=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case nt.i:return it(e,t);case nt.g:return ot(e,t);case nt.h:return ut(e,t);default:return e}},lt=n(56);function ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ft(n,!0).forEach((function(t){Object(Ge.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ft(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pt={height:window.innerHeight,width:window.innerWidth,isLandscape:window.innerHeight>=window.innerWidth},mt=function(e,t){return dt({},e,{height:t.height,width:t.width})},bt=function(e,t){return dt({},e,{isLandscape:t.bool})},ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case lt.b:return mt(e,t);case lt.a:return bt(e,t);default:return e}},gt=n(24);function Ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ot(n,!0).forEach((function(t){Object(Ge.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ot(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Et={searchResults:[],selectedSong:null,songRequests:[],completedSongRequests:[],tickerString:"",successfulRequestDetails:null},vt=function(e){return jt({},e,{searchResults:[]})},yt=function(e,t){return jt({},e,{searchResults:t.array})},xt=function(e){return jt({},e,{selectedSong:null})},wt=function(e,t){return jt({},e,{selectedSong:t.obj})},St=function(e,t){return jt({},e,{songRequests:t.array})},kt=function(e,t){return jt({},e,{completedSongRequests:t.array})},Ct=function(e,t){return jt({},e,{tickerString:t.string})},Tt=function(e,t){return jt({},e,{successfulRequestDetails:t.obj})},Rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case gt.a:return vt(e);case gt.d:return yt(e,t);case gt.b:return xt(e);case gt.e:return wt(e,t);case gt.f:return St(e,t);case gt.c:return kt(e,t);case gt.h:return Ct(e,t);case gt.g:return Tt(e,t);default:return e}},Dt=n(57);function Pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pt(n,!0).forEach((function(t){Object(Ge.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _t={selectedButton:null,toolbarOptions:[],showLogonButton:!0},At=function(e,t){return Nt({},e,{selectedButton:t.string})},Bt=function(e,t){return Nt({},e,{toolbarOptions:t.array})},Lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Dt.a:return At(e,t);case Dt.b:return Bt(e,t);default:return e}},qt=n(66);function Wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wt(n,!0).forEach((function(t){Object(Ge.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ut={artist:{},title:{}},Mt=function(e,t){var n=t.searchBy;return n===j.c?function(e,t){var n=t.id,r=t.array,a=It({},e.artist,Object(Ge.a)({},n,r));return It({},e,{artist:a})}(e,t):n===j.p?function(e,t){var n=t.id,r=t.array,a=It({},e.artist,Object(Ge.a)({},n,r));return It({},e,{title:a})}(e,t):void 0},Ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qt.a:return Mt(e,t);default:return e}},Ht=Object(Me.c)({admin:tt,api:st,browseCache:Ft,displayProperties:ht,results:Rt,toolbar:Lt}),Gt=n(10),zt=n.n(Gt),Qt=n(2),Kt=zt.a.mark(Jt),Xt=zt.a.mark(Yt);function Jt(){return zt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,Object(Qt.c)(Object(m.f)());case 4:return e.next=6,Object(Qt.b)(6e4);case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(1),e.next=12,Object(Qt.b)(1e4);case 12:e.next=0;break;case 14:case"end":return e.stop()}}),Kt,null,[[1,8]])}function Yt(){return zt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Object(Qt.g)(nt.j);case 3:return e.next=5,Object(Qt.d)([Object(Qt.a)(Jt),Object(Qt.g)(nt.l)]);case 5:e.next=0;break;case 7:case"end":return e.stop()}}),Xt)}var Vt=Yt,Zt=zt.a.mark(en),$t=zt.a.mark(tn);function en(){return zt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,Object(Qt.c)(Object(m.g)());case 4:return e.next=6,Object(Qt.b)(18e4);case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(1),e.next=12,Object(Qt.b)(1e4);case 12:e.next=0;break;case 14:case"end":return e.stop()}}),Zt,null,[[1,8]])}function tn(){return zt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Object(Qt.g)(nt.k);case 3:return e.next=5,Object(Qt.d)([Object(Qt.a)(en),Object(Qt.g)(nt.m)]);case 5:e.next=0;break;case 7:case"end":return e.stop()}}),$t)}var nn=tn,rn=n(25),an=n.n(rn),cn=function(e){return e.admin.baseUrl},on=function(e){return e.admin.token},un=function(e){return e.browseCache.artist},sn=function(e){return e.browseCache.title},ln=function(e){return e.results.songRequests},fn=function(e){return e.results.completedSongRequests},dn=zt.a.mark(On),pn=zt.a.mark(jn);function mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mn(n,!0).forEach((function(t){Object(Ge.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var hn=function(e){return e.sort((function(e,t){return e.DateTime<t.DateTime?-1:e.DateTime>t.DateTime?1:0}))},gn=function(e){return e.sort((function(e,t){return e.CompletedDateTime>t.CompletedDateTime?-1:e.CompletedDateTime<t.CompletedDateTime?1:0}))};function On(){var e,t,n,r,a,c,i;return zt.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(Qt.e)(cn);case 2:return e=o.sent,o.next=5,Object(Qt.c)(Object(m.s)("Updating..."));case 5:return o.prev=5,o.next=8,Object(Qt.a)(an.a.get,"".concat(e,"/submitted-requests"));case 8:for(t=o.sent,n=t.data,r=[],a=[],c=0;c<n.length;c+=1)i=n[c],"completed"===i.State?a.push(i):r.push(i);return r=hn(r),a=gn(a),r=r.map((function(e,t){return bn({},e,{Position:t+1})})),o.next=18,Object(Qt.c)(Object(m.x)(r));case 18:return o.next=20,Object(Qt.c)(Object(m.m)(a));case 20:return o.next=22,Object(Qt.c)(Object(m.s)("Updated: ".concat((new Date).toLocaleTimeString())));case 22:o.next=28;break;case 24:return o.prev=24,o.t0=o.catch(5),o.next=28,Object(Qt.c)(Object(m.s)("Update failed: ".concat(o.t0)));case 28:case"end":return o.stop()}}),dn,null,[[5,24]])}function jn(){return zt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Qt.h)(nt.c,On);case 2:case"end":return e.stop()}}),pn)}var En=jn,vn=zt.a.mark(wn),yn=zt.a.mark(Sn),xn=zt.a.mark(kn);function wn(e){var t,n,r,a,c;return zt.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.credentials,i.next=3,Object(Qt.e)(cn);case 3:return n=i.sent,i.prev=4,i.next=7,Object(Qt.a)(an.a.post,"".concat(n,"/admin-task"),{task:"login",value:t});case 7:return r=i.sent,a=r.data,c=a.token,i.next=12,Object(Qt.c)(Object(m.A)(c));case 12:return i.next=14,Object(Qt.c)(Object(m.n)(!0));case 14:i.next=22;break;case 16:return i.prev=16,i.t0=i.catch(4),i.next=20,Object(Qt.c)(Object(m.q)("Error logging on: ".concat(i.t0)));case 20:return i.next=22,Object(Qt.c)(Object(m.r)(!0));case 22:return i.next=24,Object(Qt.c)(Object(m.D)(!1));case 24:case"end":return i.stop()}}),vn,null,[[4,16]])}function Sn(){var e,t;return zt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Qt.e)(cn);case 2:return e=n.sent,n.next=5,Object(Qt.e)(on);case 5:return t=n.sent,n.prev=6,n.next=9,Object(Qt.a)(an.a.post,"".concat(e,"/admin-task"),{task:"logout"},{headers:{"X-Auth-Token":t}});case 9:return n.next=11,Object(Qt.c)(Object(m.A)(""));case 11:return n.next=13,Object(Qt.c)(Object(m.n)(!1));case 13:n.next=21;break;case 15:return n.prev=15,n.t0=n.catch(6),n.next=19,Object(Qt.c)(Object(m.q)("Error logging off: ".concat(n.t0)));case 19:return n.next=21,Object(Qt.c)(Object(m.r)(!0));case 21:return n.next=23,Object(Qt.c)(Object(m.D)(!1));case 23:case"end":return n.stop()}}),yn,null,[[6,15]])}function kn(){return zt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Qt.h)(ze.b,wn);case 2:return e.next=4,Object(Qt.h)(ze.a,Sn);case 4:case"end":return e.stop()}}),xn)}var Cn=kn,Tn=n(108),Rn=n.n(Tn),Dn=zt.a.mark(An),Pn=zt.a.mark(Bn);function Nn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nn(n,!0).forEach((function(t){Object(Ge.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function An(e){var t,n,r,a,c;return zt.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.singer,n=e.songObj,r=e.history,i.next=3,Object(Qt.e)(cn);case 3:return a=i.sent,i.next=6,Object(Qt.c)(Object(m.w)(!0));case 6:return c=_n({},n,{RequestID:Rn()(),Singer:t,State:"pending",CompletedDateTime:0}),i.prev=7,i.next=10,Object(Qt.a)(an.a.post,"".concat(a,"/new-request"),c);case 10:return i.next=12,Object(Qt.c)(Object(m.v)(null));case 12:return i.next=14,Object(Qt.c)(Object(m.y)(c));case 14:return i.prev=14,i.next=17,Object(Qt.a)(r.push(j.o));case 17:i.next=21;break;case 19:i.prev=19,i.t0=i.catch(14);case 21:i.next=29;break;case 23:return i.prev=23,i.t1=i.catch(7),i.next=27,Object(Qt.c)(Object(m.q)("Error submitting request, please try again"));case 27:return i.next=29,Object(Qt.c)(Object(m.r)(!0));case 29:return i.next=31,Object(Qt.c)(Object(m.w)(!1));case 31:case"end":return i.stop()}}),Dn,null,[[7,23],[14,19]])}function Bn(){return zt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Qt.h)(nt.n,An);case 2:case"end":return e.stop()}}),Pn)}var Ln=Bn,qn=zt.a.mark(Un),Wn=zt.a.mark(Mn),In=function(e,t){var n=j.c,r=j.p;return t===j.p&&(n=j.p,r=j.c),e.sort((function(e,t){return e[n]<t[n]?-1:e[n]>t[n]?1:e[r]<t[r]?-1:e[r]>t[r]?1:0}))};function Un(e){var t,n,r,a,c,i,o,u,s,l,f;return zt.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return t=e.string,n=e.searchBy,r=e.browse,d.next=3,Object(Qt.e)(cn);case 3:return a=d.sent,c={},i=!1,d.next=8,Object(Qt.c)(Object(m.o)(!0));case 8:if(!r){d.next=24;break}if(n!==j.c){d.next=13;break}return d.next=12,Object(Qt.e)(un);case 12:c=d.sent;case 13:if(n!==j.p){d.next=17;break}return d.next=16,Object(Qt.e)(sn);case 16:c=d.sent;case 17:if(!((o=c[t]||[])&&o.length>0)){d.next=24;break}return d.next=21,Object(Qt.c)(Object(m.t)(c[t]));case 21:return i=!0,d.next=24,Object(Qt.c)(Object(m.o)(!1));case 24:return u="?value=".concat(encodeURI(t),"&searchby=").concat(n.toLowerCase(),"&browse=").concat(r),d.prev=25,d.next=28,Object(Qt.a)(an.a.get,"".concat(a,"/find-songs").concat(u));case 28:if(s=d.sent,l=s.data,f=In(l,n),i){d.next=36;break}return d.next=34,Object(Qt.c)(Object(m.t)(f));case 34:return d.next=36,Object(Qt.c)(Object(m.o)(!1));case 36:if(!r){d.next=39;break}return d.next=39,Object(Qt.c)(Object(m.a)(t,f,n));case 39:d.next=50;break;case 41:if(d.prev=41,d.t0=d.catch(25),i){d.next=48;break}return d.next=46,Object(Qt.c)(Object(m.q)("Error whist searching, please try again"));case 46:return d.next=48,Object(Qt.c)(Object(m.r)(!0));case 48:return d.next=50,Object(Qt.c)(Object(m.o)(!1));case 50:case"end":return d.stop()}}),qn,null,[[25,41]])}function Mn(){return zt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Qt.h)(nt.f,Un);case 2:case"end":return e.stop()}}),Wn)}var Fn=Mn,Hn=zt.a.mark(Qn),Gn=zt.a.mark(Kn),zn=function(e){for(var t,n,r=e.map((function(e){return"".concat(e.Title," in the style of ").concat(e.Artist)})),a=r.length;0!==a;)n=Math.floor(Math.random()*a),t=r[a-=1],r[a]=r[n],r[n]=t;return r.join(" -\u2666- ")};function Qn(){var e,t,n;return zt.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(Qt.e)(cn);case 2:return e=r.sent,r.prev=3,r.next=6,Object(Qt.a)(an.a.get,"".concat(e,"/submitted-requests"));case 6:return t=r.sent,n=t.data,r.next=10,Object(Qt.c)(Object(m.z)(0===n.length?"":zn(n)));case 10:r.next=15;break;case 12:r.prev=12,r.t0=r.catch(3),console.log(r.t0);case 15:case"end":return r.stop()}}),Hn,null,[[3,12]])}function Kn(){return zt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Qt.h)(nt.d,Qn);case 2:case"end":return e.stop()}}),Gn)}var Xn=Kn,Jn=n(110),Yn=zt.a.mark(er),Vn=zt.a.mark(tr);function Zn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zn(n,!0).forEach((function(t){Object(Ge.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function er(e){var t,n,r,a,c,i,o;return zt.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.songObj,u.next=3,Object(Qt.e)(cn);case 3:return n=u.sent,u.next=6,Object(Qt.e)(on);case 6:return r=u.sent,u.next=9,Object(Qt.e)(ln);case 9:return a=u.sent,u.next=12,Object(Qt.e)(fn);case 12:return c=u.sent,delete(i=$n({},t,{State:"completed",CompletedDateTime:(new Date).toISOString()})).Position,o=t.RequestID,u.prev=16,u.next=19,Object(Qt.a)(an.a.post,"".concat(n,"/completed-request"),i,{headers:{"X-Auth-Token":r}});case 19:return u.next=21,Object(Qt.c)(Object(m.x)(a.filter((function(e){return e.RequestID!==o})).map((function(e,t){return $n({},e,{Position:t+1})}))));case 21:return u.next=23,Object(Qt.c)(Object(m.m)([i].concat(Object(Jn.a)(c))));case 23:return u.next=25,Object(Qt.c)(Object(m.v)(null));case 25:u.next=33;break;case 27:return u.prev=27,u.t0=u.catch(16),u.next=31,Object(Qt.c)(Object(m.q)("Error completing request: ".concat(u.t0)));case 31:return u.next=33,Object(Qt.c)(Object(m.r)(!0));case 33:case"end":return u.stop()}}),Yn,null,[[16,27]])}function tr(){return zt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Qt.h)(nt.b,er);case 2:case"end":return e.stop()}}),Vn)}var nr=tr,rr=zt.a.mark(cr),ar=zt.a.mark(ir);function cr(){var e,t,n,r,a,c;return zt.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(Qt.e)(cn);case 2:return e=i.sent,i.next=5,Object(Qt.e)(on);case 5:return t=i.sent,n={task:"clearRequests"},i.prev=7,i.next=10,Object(Qt.a)(an.a.post,"".concat(e,"/admin-task"),n,{headers:{"X-Auth-Token":t}});case 10:return r=i.sent,a=r.data,c=a.message,i.next=15,Object(Qt.c)(Object(m.q)("Success: ".concat(c)));case 15:return i.next=17,Object(Qt.c)(Object(m.r)(!0));case 17:return i.next=19,Object(Qt.c)(Object(m.x)([]));case 19:return i.next=21,Object(Qt.c)(Object(m.m)([]));case 21:i.next=29;break;case 23:return i.prev=23,i.t0=i.catch(7),i.next=27,Object(Qt.c)(Object(m.q)("Error clearing requests: ".concat(i.t0)));case 27:return i.next=29,Object(Qt.c)(Object(m.r)(!0));case 29:case"end":return i.stop()}}),rr,null,[[7,23]])}function ir(){return zt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Qt.h)(nt.a,cr);case 2:case"end":return e.stop()}}),ar)}var or=ir,ur=zt.a.mark(lr),sr=zt.a.mark(fr);function lr(){var e,t,n,r,a,c;return zt.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(Qt.e)(cn);case 2:return e=i.sent,i.next=5,Object(Qt.e)(on);case 5:return t=i.sent,n={task:"reloadDatabase"},i.prev=7,i.next=10,Object(Qt.a)(an.a.post,"".concat(e,"/admin-task"),n,{headers:{"X-Auth-Token":t}});case 10:return r=i.sent,a=r.data,c=a.message,i.next=15,Object(Qt.c)(Object(m.q)("Success: ".concat(c)));case 15:return i.next=17,Object(Qt.c)(Object(m.r)(!0));case 17:i.next=25;break;case 19:return i.prev=19,i.t0=i.catch(7),i.next=23,Object(Qt.c)(Object(m.q)("Error reloading database: ".concat(i.t0)));case 23:return i.next=25,Object(Qt.c)(Object(m.r)(!0));case 25:case"end":return i.stop()}}),ur,null,[[7,19]])}function fr(){return zt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Qt.h)(nt.e,lr);case 2:case"end":return e.stop()}}),sr)}var dr=fr,pr=zt.a.mark(mr);function mr(){return zt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Qt.f)(Vt);case 2:return e.next=4,Object(Qt.f)(nn);case 4:return e.next=6,Object(Qt.f)(En);case 6:return e.next=8,Object(Qt.f)(Cn);case 8:return e.next=10,Object(Qt.f)(Ln);case 10:return e.next=12,Object(Qt.f)(Fn);case 12:return e.next=14,Object(Qt.f)(Xn);case 14:return e.next=16,Object(Qt.f)(nr);case 16:return e.next=18,Object(Qt.f)(or);case 18:return e.next=20,Object(Qt.f)(dr);case 20:case"end":return e.stop()}}),pr)}var br=Object(Fe.a)(),hr=[He.a,br],gr=[Me.a.apply(void 0,hr)],Or=window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__();"prod"!==Object({NODE_ENV:"production",PUBLIC_URL:""}).ENV&&Or&&gr.push(Or);var jr=Object(Me.e)(Ht,Me.d.apply(void 0,gr));br.run(mr);var Er=jr;i.a.render(a.a.createElement(o.a,{store:Er},a.a.createElement(u.a,null,a.a.createElement(Ue,null))),document.getElementById("root"))},23:function(e,t,n){"use strict";n.d(t,"h",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"f",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return s})),n.d(t,"g",(function(){return l}));var r="SHOW_LOGON_DIALOG",a="SET_DJ_MODE_ACTIVE",c="SET_BASE_URL",i="SET_NOTIFICATION_OPEN",o="SET_NOTIFICATION_MESSAGE",u="HANDLE_LOGON_REQUEST",s="HANDLE_LOGOFF_REQUEST",l="SET_TOKEN"},24:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"c",(function(){return u})),n.d(t,"h",(function(){return s})),n.d(t,"g",(function(){return l}));var r="CLEAR_SEARCH_RESULTS",a="SET_SEARCH_RESULTS",c="CLEAR_SELECTED_SONG",i="SET_SELECTED_SONG",o="SET_SONG_REQUESTS",u="SET_COMPLETED_SONG_REQUESTS",s="SET_TICKER_STRING",l="SET_SUCCESSFUL_REQUEST_DETAILS"},40:function(e,t,n){e.exports=n.p+"static/media/logo-karaoke-png.3a41409a.png"},56:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r="SET_WINDOW_HEIGHT_WIDTH",a="SET_IS_LANDSCAPE"},57:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r="SET_SELECTED_BUTTON",a="SET_TOOLBAR_OPTIONS"},6:function(e,t,n){"use strict";var r=n(23),a=function(e){return{type:r.h,bool:e}},c=function(e){return{type:r.d,bool:e}},i=function(e){return{type:r.c,url:e}},o=function(e){return{type:r.e,string:e}},u=function(e){return{type:r.f,bool:e}},s=function(e){return{type:r.b,credentials:e}},l=function(){return{type:r.a}},f=function(e){return{type:r.g,token:e}},d=n(13),p=function(){return{type:d.j}},m=function(){return{type:d.l}},b=function(){return{type:d.c}},h=function(){return{type:d.k}},g=function(){return{type:d.m}},O=function(){return{type:d.d}},j=function(e,t,n){return{type:d.n,singer:e,songObj:t,history:n}},E=function(e){return{type:d.i,bool:e}},v=function(e,t,n){return{type:d.f,string:e,searchBy:t,browse:n}},y=function(e){return{type:d.g,bool:e}},x=function(e){return{type:d.h,string:e}},w=function(e){return{type:d.b,songObj:e}},S=function(){return{type:d.a}},k=function(){return{type:d.e}},C=n(66),T=function(e,t,n){return{type:C.a,id:e,array:t,searchBy:n}},R=n(56),D=function(e,t){return{type:R.b,height:e,width:t}},P=function(e){return{type:R.a,bool:e}},N=n(24),_=function(){return{type:N.a}},A=function(e){return{type:N.d,array:e}},B=function(){return{type:N.b}},L=function(e){return{type:N.e,obj:e}},q=function(e){return{type:N.f,array:e}},W=function(e){return{type:N.c,array:e}},I=function(e){return{type:N.h,string:e}},U=function(e){return{type:N.g,obj:e}},M=n(57),F=function(e){return{type:M.a,string:e}},H=function(e){return{type:M.b,array:e}};n.d(t,"D",(function(){return a})),n.d(t,"n",(function(){return c})),n.d(t,"l",(function(){return i})),n.d(t,"q",(function(){return o})),n.d(t,"r",(function(){return u})),n.d(t,"i",(function(){return s})),n.d(t,"h",(function(){return l})),n.d(t,"A",(function(){return f})),n.d(t,"E",(function(){return p})),n.d(t,"G",(function(){return m})),n.d(t,"f",(function(){return b})),n.d(t,"F",(function(){return h})),n.d(t,"H",(function(){return g})),n.d(t,"g",(function(){return O})),n.d(t,"I",(function(){return j})),n.d(t,"w",(function(){return E})),n.d(t,"k",(function(){return v})),n.d(t,"o",(function(){return y})),n.d(t,"s",(function(){return x})),n.d(t,"e",(function(){return w})),n.d(t,"b",(function(){return S})),n.d(t,"j",(function(){return k})),n.d(t,"a",(function(){return T})),n.d(t,"C",(function(){return D})),n.d(t,"p",(function(){return P})),n.d(t,"c",(function(){return _})),n.d(t,"t",(function(){return A})),n.d(t,"d",(function(){return B})),n.d(t,"v",(function(){return L})),n.d(t,"x",(function(){return q})),n.d(t,"m",(function(){return W})),n.d(t,"z",(function(){return I})),n.d(t,"y",(function(){return U})),n.d(t,"u",(function(){return F})),n.d(t,"B",(function(){return H}))},66:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="ADD_TO_BROWSE_CACHE"},8:function(e,t,n){"use strict";var r={ADMIN:"Admin",REQUESTS:"Requests",SEARCH:"Search",BROWSE_BY_ARTIST:"Browse by Artist",BROWSE_BY_TITLE:"Browse by Title"};n.d(t,"n",(function(){return"/search"})),n.d(t,"f",(function(){return"/browseByArtist"})),n.d(t,"h",(function(){return"/browseByTitle"})),n.d(t,"l",(function(){return"/results"})),n.d(t,"b",(function(){return"/admin"})),n.d(t,"k",(function(){return"/requests"})),n.d(t,"o",(function(){return"/success"})),n.d(t,"p",(function(){return"Title"})),n.d(t,"c",(function(){return"Artist"})),n.d(t,"d",(function(){return"Both"})),n.d(t,"q",(function(){return 65})),n.d(t,"a",(function(){return"ADMIN"})),n.d(t,"j",(function(){return"REQUESTS"})),n.d(t,"i",(function(){return r})),n.d(t,"m",(function(){return"SEARCH"})),n.d(t,"e",(function(){return"BROWSE_BY_ARTIST"})),n.d(t,"g",(function(){return"BROWSE_BY_TITLE"}))},97:function(e,t,n){"use strict";var r=n(18),a=n(0),c=n.n(a),i=n(100),o=n(203),u=n(113),s=n(188),l=n(204),f=Object(i.a)((function(e){return{listItem:{width:"100%",boxShadow:"0px 2px 1px -1px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,0.14), 0px 1px 3px 0px rgba(0,0,0,0.12)",backgroundColor:"rgba(255,255,255,0.03)",marginBottom:e.spacing(1)},paper:{width:"100%",display:"flex",flexDirection:"row"},root:{flexGrow:1},requestContainer:{display:"flex",flexDirection:"row",alignItems:"baseline"},dataContainer:{flexGrow:1},dateTime:{marginRight:e.spacing(4),color:e.palette.action.disabled},songSummaryContainer:{display:"flex",flexDirection:"column",flexGrow:1},row:{display:"flex",flexDirection:"row"},halfRowContainer:{width:"50%",minWidth:"50%",maxWidth:"50%",display:"flex",flexDirection:"row",alignItems:"baseline"},right:{justifyContent:"flex-end"},keyFormatting:{width:"55px",minWidth:"55px",maxWidth:"55px",color:e.palette.action.disabled},buttonContainer:{display:"flex",justifyContent:"center",alignItems:"center"}}})),d=function(e){var t=e.songObj,n=e.setSelectedSong,r=e.completeRequest,a=f(),i=t.Position,d=t.Artist,p=t.Title,m=t.DiscRef,b=t.Key,h=t.Length,g=t.Singer,O=t.DateTime,j=t.CompletedDateTime;return c.a.createElement(o.a,{className:a.listItem,button:!0,onClick:function(){return n(t)}},c.a.createElement("div",{className:a.paper},c.a.createElement("div",{className:a.dataContainer},g?c.a.createElement("div",{id:"request-container",className:a.requestContainer},i?c.a.createElement(u.a,{variant:"h5",className:a.dateTime},"".concat(i,".")):null,c.a.createElement(u.a,{variant:"h5",className:a.dateTime},(j||O).toLocaleString().match(/[0-9]{1,2}:[0-9]{1,2}:[0-9]{1,2}/g)),c.a.createElement(u.a,{variant:"h5"},g)):null,c.a.createElement("div",{id:"song-summary-container",className:a.songSummaryContainer},c.a.createElement("div",{id:"top-row",className:a.row},c.a.createElement("div",{id:"title-container",className:a.halfRowContainer},c.a.createElement(u.a,{className:a.keyFormatting,variant:"subtitle2",color:"inherit"},"Title:"),c.a.createElement(u.a,{variant:"subtitle1",noWrap:!0},p)),c.a.createElement("div",{id:"artist-container",className:a.halfRowContainer},c.a.createElement(u.a,{className:a.keyFormatting,variant:"subtitle2",color:"inherit"},"Artist:"),c.a.createElement(u.a,{variant:"subtitle1",noWrap:!0},d))),c.a.createElement("div",{id:"bottom-row",className:a.row},c.a.createElement("div",{id:"ref-container",className:a.halfRowContainer},c.a.createElement(u.a,{className:a.keyFormatting,variant:"subtitle2",color:"inherit"},"Ref:"),c.a.createElement(u.a,{variant:"subtitle1",noWrap:!0},m)),c.a.createElement("div",{className:a.halfRowContainer},c.a.createElement("div",{id:"key-container",className:a.halfRowContainer},c.a.createElement(u.a,{className:a.keyFormatting,variant:"subtitle2",color:"inherit"},"Key:"),c.a.createElement(u.a,{variant:"subtitle1",noWrap:!0},b)),c.a.createElement("div",{id:"length-container",className:[a.halfRowContainer,a.right].join(" ")},c.a.createElement(u.a,{className:a.keyFormatting,variant:"subtitle2",color:"inherit"},"Length:"),c.a.createElement(u.a,{variant:"subtitle1",noWrap:!0},h)))))),c.a.createElement("div",{className:a.buttonContainer},g&&!j?c.a.createElement(s.a,{onClick:function(e){e.stopPropagation(),r(t)}},c.a.createElement(l.a,{fontSize:"large"})):null)))},p=n(6);t.a=Object(r.b)(null,(function(e){return{setSelectedSong:function(t){return e(Object(p.v)(t))},completeRequest:function(t){return e(Object(p.e)(t))}}}))(d)},99:function(e,t,n){e.exports=n.p+"static/media/singers.7af10c51.png"}},[[124,1,2]]]);
//# sourceMappingURL=main.9ee01674.chunk.js.map